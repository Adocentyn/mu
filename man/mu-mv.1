.TH MU MV 1 "August 2011" "User Manuals"

.SH NAME 

mu mv\-  move a message file to a Maildir 

.SH SYNOPSIS

.B mu mv [--flags=<flags>] [--printtarget] <source-path> [<target-maildir>]

.SH DESCRIPTION

\fBmu mv\fR is the \fBmu\fR sub-command for moving mail files to new
directories. It does \fBnot\fR use the mu database. The command is
deliberately limited and tries hard to maintain the Maildir-integrity and to
minimize chance of accidents

The \fIsource-path\fR must be a full, absolute path to the message you want to
move, while the \fItarget-maildir\fR is the path to the maildir, but
\fBwithout\fR the 'cur' or 'new' part - that part will be constructed from the
source message, so that message that live in 'new' will also be in 'new' in
the target, and the same for 'cur'. If needed, consult the \fBmaildir(5)\fR
documentation for details about 'cur' and 'new'.

As a special case, when \fI/dev/null\fR is specified as the target directory,
the mail file will be unlinked (deleted).

Note, unlike the UNIX \fImv\fR command, \fImu mv\fR takes precisely one source
message parameter. It's recommended not to use wildcards on the shell, as the
result may be unexpected.

Also note, \fBmu mv\fR only updates the file system; it does \fBnot\fR update
the database. To update the database, there is \fBmu index(1)\fR or \fBmu add\fR
and \fBmu remove\fR.

.SH OPTIONS

.TP
\fB\-\-flags\fR=\fI<flags>\fR
using the this option, you can change the file flags of the target file. If
you change the 'N' (new) flag, this will also change the exact target
directory ('new' vs 'cur').

The flags is a sequence of characters from the set D (draft), F (flagged), N
(new), P (passed), R (replied), S (seen) and T (trashed). Note, the
flags-parameter is case-sensitive. Any other characters will be silently
ignored.

The \fB\-\-flags\fR also has a second, 'delta', syntax. In this syntax, each
of the flag characters is prefixed with either '+' or '-', which means that
the corresponding flag will be added or removed. Using this syntax, you can
change individual flags, without changing all of them.

.TP
\fB\-\-print-target\fR
return the target path on standard output upon succesful completion of the
move (with or without a succesful database update).

.TP
\fB\-\-ignore-dups\fR
silently ignore the case where the source file is the same as the target.


.SH EXAMPLE

To move a message \fI/home/jimbo/Maildir/scuba/cur/123123123:2,S\fR to
\fI/home/jimbo/Maildir/archive\fR, you can use:

.nf
   mu mv /home/jimbo/Maildir/scuba/cur/123123123:2,S /home/jimbo/Maildir/archive
.fi

This will move the message to the new path:
\fI/home/jimbo/Maildir/archive/cur/123123123:2,S\fR.

To remove a message \fI/home/fred/Maildir/trash/cur/123123123:2,S\fR, you
could do:

.nf
   mu mv /home/fred/Maildir/trash/cur/123123123:2,S /dev/null
.fi

Obviously, you could also simply use \fBrm\fR in this case.

To mark a message as no longer new and 'Seen', and update the database
afterwards, you could do:

.nf
   mu mv /home/roger/Maildir/inbox/new/123123123 /home/roger/Maildir/inbox/ --flags=S
.fi

In this case, as we are not moving the message to a diffent maildir, we can
leave off the maildir-argument; so the following is equivalent:

.nf
   mu mv /home/roger/Maildir/inbox/new/123123123  --flags=S
.fi

Finally, using the 'delta'-syntax, you can set the 'seen'-flag
and 'replied'-flag while removing the 'new' flag with:

.nf
   mu mv /home/billy/Maildir/inbox/new/12aa34343 --flags=+S+R-N 
.fi
which would give us a new file:
\fI/home/billy/Maildir/inbox/cur/12aa34343:2,SR\fR

.SH LIMITATIONS

Both source-path and target-directory must be on the same disk partition,
except when the target-directory is \fI/dev/null\fR.

.SH RETURN VALUE

\fBmu mv\fR returns 0 upon success, and some other value when an error
occurs. See \fBmu(1)\fR for a list.

.SH BUGS

Please report bugs if you find them:
.BR http://code.google.com/p/mu0/issues/list

.SH AUTHOR

Dirk-Jan C. Binnema <djcb@djcbsoftware.nl>

.SH "SEE ALSO"

.BR maildir(5)
.BR mu(1)
.BR mu-index(1)
.BR mu-add(1)
.BR mu-remove(1)
.BR chmod(1)
